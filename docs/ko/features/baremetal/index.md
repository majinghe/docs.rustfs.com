---
title: "베어메탈 배포"
description: "베어메탈 서버에서 RustFS 배포를 통한 최대 하드웨어 성능과 스토리지 효율성 달성"
source: "features/baremetal/index.md"
---

# 베어메탈 배포

베어메탈 서버에 RustFS를 배포할 때 하드웨어 성능을 최대화하고 최고의 스토리지 효율성을 달성할 수 있습니다. 이 가이드는 베어메탈 배포 모범 사례를 다룹니다.

## 하드웨어 요구사항

### 최소 구성

- **CPU**: 4코어, 2.4GHz 이상
- **메모리**: 8GB RAM 최소, 16GB 권장
- **스토리지**: 이레이저 코딩을 위한 최소 4개 드라이브
- **네트워크**: 기가비트 이더넷

### 권장 구성

- **CPU**: 16+ 코어, 3.0GHz 이상
- **메모리**: 32GB+ RAM
- **스토리지**: 8+ 드라이브, 계층화를 위한 SSD/HDD 혼합
- **네트워크**: 10Gb 이더넷 이상

## 배포 아키텍처

![Bare Metal Architecture 1](./images/sec2-1.png)

### 단일 노드 모드 (SNSD)

개발 및 테스트 환경에 적합:

```bash
# 단일 드라이브가 있는 단일 노드
rustfs server /data
```

![Bare Metal Architecture 2](./images/sec2-2.png)

### 다중 노드 모드 (MNMD)

프로덕션 환경에 권장:

```bash
# 노드 1
rustfs server http://server{1...4}/data{1...4} \

# 노드 2-4 (유사한 구성)
```

![Bare Metal Architecture 3](./images/sec2-3.png)

## 성능 최적화

### 스토리지 구성

1. **드라이브 선택**
   - 프로덕션용 엔터프라이즈급 드라이브 사용
   - 고성능 워크로드용 NVMe SSD 고려
   - OS와 데이터 드라이브 분리

2. **RAID 구성**
   - 객체 스토리지용 하드웨어 RAID 비활성화
   - JBOD(Just a Bunch of Disks) 모드 사용
   - RustFS가 중복성 처리하도록 설정

### 네트워크 최적화

1. **네트워크 본딩**

   ```bash
   # 중복성을 위한 네트워크 본딩 구성
   sudo modprobe bonding
   echo "balance-rr" > /sys/class/net/bond0/bonding/mode
   ```

2. **점보 프레임**

   ```bash
   # 더 나은 처리량을 위한 점보 프레임 활성화
   sudo ip link set dev eth0 mtu 9000
   ```

![Bare Metal Architecture 4](./images/sec2-4.png)

## 모니터링 및 유지보수

### 상태 모니터링

- SMART 도구로 드라이브 상태 모니터링
- 네트워크 사용률 및 지연 시간 추적
- 하드웨어 장애에 대한 알림 설정

### 유지보수 절차

1. **드라이브 교체**
   - 장애 드라이브 핫스왑
   - 복구 프로세스 모니터링
   - 데이터 무결성 검증

2. **노드 유지보수**
   - 정상적인 노드 종료
   - 롤링 업데이트
   - 용량 계획

## 보안 고려사항

### 물리적 보안

- 안전한 서버실 액세스
- 환경 모니터링
- 전원 중복성

### 네트워크 보안

- 방화벽 구성
- 네트워크 세그멘테이션
- 클라이언트 연결용 TLS 암호화

## 문제 해결

### 일반적인 문제

1. **드라이브 장애**
   - SMART 상태 확인
   - 장애 드라이브 즉시 교체
   - 복구 진행 상황 모니터링

2. **네트워크 문제**
   - 네트워크 연결 확인
   - 대역폭 사용률 점검
   - 패킷 손실 모니터링

3. **성능 문제**
   - I/O 패턴 분석
   - CPU/메모리 병목 확인
   - 드라이브 레이아웃 최적화
