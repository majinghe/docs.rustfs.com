# 데이터 라이프사이클 관리 및 계층화

데이터가 계속 증가함에 따라 액세스, 보안 및 경제성을 위해 공동으로 최적화할 수 있는 능력은 좋은 기능이 아닌 필수 요구사항이 됩니다. 바로 여기서 라이프사이클 데이터 관리가 중요한 역할을 합니다. RustFS는 퍼블릭 클라우드와 프라이빗 클라우드를 포함한 클라우드 내부 및 클라우드 간에 데이터를 보호하는 고유한 기능 세트를 제공합니다. 버전 관리, 객체 잠금 및 다양한 파생 구성 요소를 포함한 RustFS의 엔터프라이즈 데이터 라이프사이클 관리 도구는 많은 사용 사례를 만족시킵니다.

## 객체 만료

데이터가 영원히 존재할 필요는 없습니다. RustFS 라이프사이클 관리 도구를 사용하면 데이터가 삭제되기 전에 디스크에 남아 있는 기간을 정의할 수 있습니다. 사용자는 RustFS가 객체 삭제를 시작하기 전까지의 시간 길이를 특정 날짜 또는 일 수로 정의합니다.

라이프사이클 관리 규칙은 버킷당 생성되며 객체 및 태그 필터의 모든 조합을 사용하여 구성할 수 있습니다. 전체 버킷에 대한 만료 규칙을 설정하려면 필터를 지정하지 않거나, 더 복잡한 만료 동작을 만들려면 여러 규칙을 지정하세요.

RustFS 객체 만료 규칙은 버전이 관리되는 버킷에도 적용되며 일부 버전 관리 특정 변형이 제공됩니다. 예를 들어, 장기 스토리지 비용을 발생시키지 않으면서 객체 버전 관리의 이점을 극대화하기 위해 객체의 비현재 버전에만 만료 규칙을 지정할 수 있습니다. 마찬가지로 남은 버전이 삭제 마커뿐인 객체를 삭제하는 라이프사이클 관리 규칙을 만들 수 있습니다.

버킷 만료 규칙은 RustFS WORM 잠금 및 법적 보존을 완전히 준수합니다. 잠겨진 상태의 객체는 잠금이 만료되거나 명시적으로 해제될 때까지 디스크에 남아 있습니다. 객체가 더 이상 잠금에 의해 제한되지 않으면 RustFS가 만료 규칙을 정상적으로 적용하기 시작합니다.

RustFS 객체 만료 라이프사이클 관리 규칙은 AWS Lifecycle Management와 기능적으로 그리고 구문적으로 호환됩니다. RustFS는 또한 JSON 형식의 기존 규칙 가져오기를 지원하여 기존 AWS 만료 규칙을 쉽게 마이그레이션할 수 있습니다.

## 정책 기반 객체 계층화

RustFS는 객체 스토리지 계층화를 위해 프로그래밍 방식으로 구성할 수 있으므로 객체가 여러 변수를 기반으로 한 상태나 클래스에서 다른 상태나 클래스로 전환됩니다. 가장 일반적으로 사용되는 것은 시간과 액세스 빈도입니다. 이 기능은 계층화의 맥락에서 가장 잘 이해됩니다. 계층화를 통해 사용자는 변화하는 데이터 액세스 패턴에 대응하여 스토리지 비용이나 기능을 최적화할 수 있습니다. 계층화된 데이터 스토리지는 일반적으로 다음 시나리오에서 사용됩니다:

## 스토리지 미디어 간

크로스 스토리지 미디어 계층화는 가장 잘 알려져 있고 간단한 계층화 사용 사례입니다. 여기서 RustFS는 기본 미디어를 추상화하고 성능과 비용을 위해 공동으로 최적화합니다. 예를 들어, 성능이나 nearline 워크로드의 경우 데이터가 NVMe나 SSD에 저장될 수 있지만, 일정 시간 후 HDD 미디어로 계층화되거나 성능 확장을 중시하는 워크로드의 경우 그렇게 됩니다. 시간이 지나면 적절한 경우 이 데이터를 장기 스토리지로 더 마이그레이션할 수 있습니다.

![크로스 스토리지 미디어 계층화](images/s9-2.png)

## 클라우드 유형 간

빠르게 등장하는 사용 사례는 퍼블릭 클라우드의 저렴한 스토리지와 컴퓨팅 리소스를 프라이빗 클라우드의 또 다른 계층으로 사용하는 것입니다. 이 사용 사례에서 성능 지향적인 nearline 워크로드는 적절한 프라이빗 클라우드 미디어를 사용하여 실행됩니다. 데이터 볼륨은 중요하지 않지만 가치와 성능 기대치는 중요합니다. 데이터 볼륨이 증가하고 성능 기대치가 감소함에 따라 기업은 퍼블릭 클라우드의 콜드 스토리지 옵션을 사용하여 데이터 보존과 관련된 비용과 액세스 기능을 최적화할 수 있습니다.

이는 프라이빗 클라우드와 퍼블릭 클라우드 모두에서 RustFS를 실행함으로써 달성됩니다. 복제를 사용하여 RustFS는 데이터를 저렴한 퍼블릭 클라우드 옵션으로 이동하고 필요할 때 퍼블릭 클라우드에서 RustFS를 사용하여 보호하고 액세스할 수 있습니다. 이 경우 퍼블릭 클라우드는 JBOD가 RustFS의 덤프 스토리지가 되는 것처럼 RustFS의 덤프 스토리지가 됩니다. 이 접근 방식은 오래된 테이프 인프라를 교체하고 추가하는 것을 피합니다.

![크로스 클라우드 유형 계층화](images/s9-3.png)

## 퍼블릭 클라우드에서

RustFS는 일반적으로 퍼블릭 클라우드에서 주 애플리케이션 스토리지 계층 역할을 합니다. 이 경우 다른 사용 사례와 마찬가지로 RustFS는 애플리케이션이 액세스하는 유일한 스토리지입니다. 애플리케이션(및 개발자)은 스토리지 엔드포인트 이상의 것을 알 필요가 없습니다. RustFS는 관리 매개변수를 기반으로 어떤 데이터가 어디에 속하는지 결정합니다. 예를 들어, RustFS는 블록 데이터가 객체 계층으로 이동해야 하고, 어떤 객체 계층이 기업의 성능과 경제적 목표를 충족하는지 결정할 수 있습니다.

RustFS는 다양한 스토리지 계층화 계층을 결합하고 적절한 미디어를 결정하여 성능을 저해하지 않으면서 더 나은 경제성을 제공합니다. 애플리케이션은 단순히 RustFS를 통해 객체를 주소 지정하고, RustFS는 투명하게 정책을 적용하여 계층 간에 객체를 이동하고 블록 계층에서 해당 객체의 메타데이터를 유지합니다.

![퍼블릭 클라우드 계층화](images/s9-4.png)