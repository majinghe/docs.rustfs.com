---
title: "Интеграция с Commvault"
description: "RustFS обеспечивает бесшовную интеграцию с Commvault Complete Data Protection для корпоративных решений по резервному копированию, восстановлению и управлению данными"
---

# Интеграция с Commvault

RustFS обеспечивает бесшовную интеграцию с Commvault Complete Data Protection, предоставляя решения корпоративного уровня для резервного копирования, восстановления и управления данными с исключительной производительностью и надежностью.

## Обзор

![Логотип Commvault](./images/commvault-logo.png)

RustFS с Commvault предлагает:

- **Корпоративная защита данных**: Комплексное резервное копирование и восстановление для всех рабочих нагрузок
- **Хранилище облачного масштаба**: Массово масштабируемое объектное хранилище
- **Продвинутое управление данными**: Интеллектуальное управление жизненным циклом данных
- **Единая платформа**: Одна платформа для резервного копирования, архивирования и аналитики

## Ключевые преимущества

### Атомарные операции с метаданными

![Атомарные метаданные](./images/atomic-metadata.png)

#### Согласованность метаданных

- **ACID транзакции**: Атомарные, согласованные, изолированные, долговечные операции
- **Целостность метаданных**: Гарантированная согласованность метаданных
- **Быстрое восстановление**: Быстрое восстановление с согласованными метаданными
- **Параллельные операции**: Высокий параллелизм без конфликтов

### Быстрая производительность в масштабе

![Быстрая производительность](./images/fast-performance.png)

#### Высокопроизводительные операции

- **Параллельная обработка**: Массовое параллельное резервное копирование и восстановление
- **Оптимизированный I/O**: Оптимизировано для рабочих нагрузок защиты данных
- **Интеллектуальное кеширование**: Умное кеширование для часто запрашиваемых данных
- **Линейное масштабирование**: Производительность масштабируется с ростом кластера

### Непревзойденная масштабируемость

![Масштабируемость](./images/scalability.png)

#### Эластичное масштабирование

- **Петабайтный масштаб**: Масштабирование до петабайт резервных данных
- **Горизонтальное масштабирование**: Добавление узлов для емкости и производительности
- **Автомасштабирование**: Автоматическое масштабирование на основе спроса
- **Глобальное пространство имен**: Единое пространство имен для всех узлов

### Простая и безопасная архитектура

![Простая безопасная](./images/simple-secure.png)

#### Корпоративная безопасность

- **Сквозное шифрование**: Шифрование в покое и при передаче
- **Контроль доступа**: Детализированные политики контроля доступа
- **Журналирование аудита**: Полные аудиторские следы
- **Соответствие требованиям**: Соответствие нормативным требованиям

## Функции интеграции Commvault

### Интеграция хранилища

#### Конфигурация дисковой библиотеки

- **Дисковая библиотека**: Настройка RustFS как дисковой библиотеки Commvault
- **Дедупликация**: Глобальная дедупликация для всех данных
- **Сжатие**: Продвинутые алгоритмы сжатия
- **Шифрование**: Аппаратно-ускоренное шифрование

#### Интеграция облачного хранилища

- **Облачная библиотека**: Использование RustFS как библиотеки облачного хранилища
- **S3 совместимость**: Полная совместимость с Amazon S3 API
- **Гибридное развертывание**: Бесшовное гибридное облачное развертывание
- **Оптимизация затрат**: Интеллектуальное распределение хранилища по уровням

### Возможности защиты данных

#### Резервное копирование и восстановление

- **Осведомленность о приложениях**: Согласованные с приложениями резервные копии
- **Детализированное восстановление**: Восстановление на уровне файлов, папок и приложений
- **Мгновенное восстановление**: Быстрое восстановление с минимальным RTO
- **Кросс-платформенность**: Поддержка всех основных платформ

#### Архивирование и соответствие требованиям

- **Интеллектуальное архивирование**: Архивирование данных на основе политик
- **Юридическое удержание**: Поддержка юридического удержания и судебных разбирательств
- **Управление хранением**: Гибкие политики хранения
- **Отчеты о соответствии**: Автоматизированные отчеты о соответствии

## Архитектуры развертывания

### Локальная защита данных

```
┌─────────────────┐    ┌─────────────────┐
│   Производствен.│    │   CommServe     │
│   окружение     │───►│   + MediaAgent  │
│                 │    │                 │
│ • Серверы       │    │ ┌─────────────┐ │
│ • БД            │    │ │   RustFS    │ │
│ • Приложения    │    │ │   Storage   │ │
│ • ВМ            │    │ │   Library   │ │
└─────────────────┘    │ └─────────────┘ │
                       └─────────────────┘
```

### Архитектура гибридного облака

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Локальное     │    │   Основное      │    │   Облачный      │
│   производство  │───►│   резервное     │───►│   архив         │
│                 │    │   копирование   │    │   (RustFS)      │
│                 │    │   (RustFS)      │    │                 │
│ • Основные данные│    │                 │    │                 │
│ • Приложения    │    │ • Быстрое восст.│    │ • Долгосрочное  │
│ • БД            │    │ • Дедупликация  │    │ • Соответствие  │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

### Многосайтовая защита данных

```
┌─────────────────┐    ┌─────────────────┐
│   Основной ЦОД  │    │   DR сайт       │
│                 │◄──►│                 │
│ ┌─────────────┐ │    │ ┌─────────────┐ │
│ │ Производство│ │    │ │ DR системы  │ │
│ └─────────────┘ │    │ └─────────────┘ │
│                 │    │                 │
│ ┌─────────────┐ │    │ ┌─────────────┐ │
│ │   RustFS    │ │    │ │   RustFS    │ │
│ │   Основной  │ │    │ │   Реплика   │ │
│ └─────────────┘ │    │ └─────────────┘ │
└─────────────────┘    └─────────────────┘
```

## Настройка и конфигурация

### Конфигурация Commvault

#### Настройка дисковой библиотеки

```bash
# Настройка RustFS как дисковой библиотеки
# Через Commvault Command Center
1. Storage → Disk → Create Disk Library
2. Library Name: RustFS-Library
3. MediaAgent: Выберите подходящий MediaAgent
4. Mount Path: /mnt/rustfs
5. Enable Deduplication: Yes
6. Encryption: Enable
```

#### Конфигурация облачной библиотеки

```bash
# Настройка RustFS как облачной библиотеки
1. Storage → Cloud → Create Cloud Library
2. Cloud Storage: Generic S3
3. Service Host: rustfs.example.com
4. Access Key: ваш-ключ-доступа
5. Secret Key: ваш-секретный-ключ
6. Container: commvault-backups
```

### Конфигурация политик хранения

#### Политики хранения резервных копий

- **Основная копия**: Высокопроизводительное хранилище для последних резервных копий
- **Вторичная копия**: Оптимизированное по стоимости хранилище для старых резервных копий
- **Архивная копия**: Долгосрочное хранение и соответствие требованиям
- **Вспомогательная копия**: Аварийное восстановление и репликация

#### Политики устаревания данных

- **Правила хранения**: Определение периодов хранения для различных типов данных
- **Политики устаревания**: Автоматическое перемещение между уровнями хранения
- **Очистка**: Автоматическое удаление просроченных данных
- **Соответствие**: Соответствие нормативным требованиям к хранению

## Защита рабочих нагрузок

### Защита виртуальных машин

#### VMware vSphere

- **Интеграция vCenter**: Нативная интеграция vCenter
- **Changed Block Tracking**: Оптимизация инкрементального резервного копирования
- **Согласованность приложений**: Резервные копии с поддержкой VSS
- **Мгновенное восстановление**: Быстрое восстановление и переключение ВМ

#### Microsoft Hyper-V

- **Интеграция SCVMM**: Интеграция System Center
- **Hyper-V VSS**: Volume Shadow Copy Service
- **Live Migration**: Резервное копирование во время живой миграции
- **Поддержка кластеров**: Поддержка отказоустойчивых кластеров

### Защита баз данных

#### Microsoft SQL Server

- **SQL VSS Writer**: Согласованные с приложениями резервные копии
- **Log Shipping**: Резервное копирование и доставка журналов транзакций
- **Always On**: Поддержка Always On Availability Groups
- **Детализированное восстановление**: Восстановление на уровне БД, таблиц и строк

#### Oracle Database

- **Интеграция RMAN**: Интеграция с Oracle Recovery Manager
- **Data Guard**: Поддержка Oracle Data Guard
- **Поддержка RAC**: Поддержка Real Application Clusters
- **Восстановление на момент времени**: Детализированное восстановление на момент времени

#### Другие базы данных

- **MySQL**: Защита базы данных MySQL
- **PostgreSQL**: Резервное копирование и восстановление PostgreSQL
- **MongoDB**: Защита NoSQL базы данных
- **SAP HANA**: Резервное копирование базы данных SAP HANA

### Защита файловых систем

#### Файловые системы Windows

- **NTFS**: Файловая система Windows NTFS
- **Защита общих папок**: Резервное копирование сетевых папок
- **Интеграция VSS**: Volume Shadow Copy Service
- **Резервное копирование открытых файлов**: Резервное копирование открытых и заблокированных файлов

#### Файловые системы Unix/Linux

- **ext4/XFS**: Поддержка файловых систем Linux
- **NFS**: Резервное копирование Network File System
- **Интеграция снимков**: Снимки LVM и файловой системы
- **Символические ссылки**: Сохранение символических ссылок и разрешений

### Защита приложений

#### Microsoft Exchange

- **Exchange VSS**: Резервные копии с поддержкой Exchange
- **Восстановление почтовых ящиков**: Восстановление отдельных почтовых ящиков
- **Восстановление базы данных**: Восстановление базы данных Exchange
- **Общие папки**: Резервное копирование и восстановление общих папок

#### Microsoft SharePoint

- **SharePoint VSS**: Резервные копии с поддержкой SharePoint
- **Семейство веб-сайтов**: Резервное копирование и восстановление семейства веб-сайтов
- **База данных контента**: Защита базы данных контента
- **Индекс поиска**: Резервное копирование и восстановление индекса поиска

#### Корпоративные приложения

- **SAP**: Резервное копирование приложений SAP
- **Lotus Notes**: IBM Lotus Notes/Domino
- **Active Directory**: Резервное копирование Active Directory
- **Файловые ресурсы**: Защита сетевых файловых ресурсов

## Управление данными и аналитика

### Индексирование контента

#### Поиск и обнаружение

- **Полнотекстовый поиск**: Поиск по всем резервным данным
- **Индексирование метаданных**: Индексирование файлов и метаданных приложений
- **Аналитика контента**: Анализ паттернов и трендов данных
- **eDiscovery**: Юридическое обнаружение и соответствие требованиям

#### Классификация данных

- **Автоматическая классификация**: Классификация данных на основе ИИ
- **На основе политик**: Политики классификации на основе правил
- **Чувствительные данные**: Выявление и защита чувствительных данных
- **Соответствие требованиям**: Соответствие требованиям управления данными

### Управление жизненным циклом данных

#### Интеллектуальное перемещение данных

- **Распределение на основе политик**: Автоматическое перемещение данных между уровнями
- **Оптимизация затрат**: Оптимизация стоимости хранения
- **Оптимизация производительности**: Баланс производительности и стоимости
- **Соответствие требованиям**: Соответствие требованиям хранения и соответствия

#### Архивирование и хранение

- **Автоматизированное архивирование**: Архивирование данных на основе политик
- **Юридическое удержание**: Поддержка юридического удержания и судебных разбирательств
- **Политики хранения**: Гибкое управление хранением
- **Утилизация**: Безопасная утилизация данных

## Безопасность и соответствие требованиям

### Безопасность данных

#### Шифрование

- **AES-256 шифрование**: Сильное шифрование для данных в покое
- **Шифрование при передаче**: TLS шифрование для передачи данных
- **Управление ключами**: Централизованное управление ключами шифрования
- **Аппаратная безопасность**: Поддержка модулей аппаратной безопасности

#### Контроль доступа

- **Доступ на основе ролей**: Контроль доступа на основе ролей (RBAC)
- **Многофакторная аутентификация**: Усиленная аутентификация
- **Интеграция LDAP/AD**: Интеграция с корпоративными каталогами
- **Журналирование аудита**: Полное журналирование доступа

### Функции соответствия требованиям

#### Нормативное соответствие

- **GDPR**: Общий регламент по защите данных
- **HIPAA**: Закон о переносимости и подотчетности медицинского страхования
- **SOX**: Закон Сарбейнса-Оксли
- **SEC**: Правила Комиссии по ценным бумагам и биржам

#### Управление данными

- **Хранение данных**: Автоматизированные политики хранения
- **Юридическое удержание**: Юридическое удержание и сохранение
- **Аудиторские отчеты**: Автоматизированные аудиторские отчеты
- **Цепочка хранения**: Поддержание цепочки хранения данных

## Мониторинг и управление

### Commvault Command Center

#### Централизованное управление

- **Единая консоль**: Унифицированный интерфейс управления
- **Мультитенантность**: Поддержка нескольких организаций
- **Панель управления**: Статус в реальном времени и аналитика
- **Отчетность**: Комплексная отчетность и аналитика

#### Мониторинг заданий

- **Статус в реальном времени**: Мониторинг статуса заданий в реальном времени
- **Метрики производительности**: Производительность резервного копирования и восстановления
- **Планирование емкости**: Планирование емкости хранилища
- **Оповещения**: Проактивные оповещения и уведомления

### Интеграция и автоматизация

#### REST API

- **Программный доступ**: RESTful API для автоматизации
- **Интеграция третьих сторон**: Интеграция с внешними системами
- **Пользовательские приложения**: Создание пользовательских приложений
- **Автоматизация рабочих процессов**: Автоматизация операционных рабочих процессов

#### Интеграция PowerShell

- **PowerShell Cmdlets**: Нативная поддержка PowerShell
- **Скрипты**: Автоматизация рутинных задач
- **Массовые операции**: Выполнение массовых операций
- **Пользовательские скрипты**: Создание пользовательских скриптов автоматизации

## Лучшие практики

### Лучшие практики развертывания

1. **Размерирование**: Правильное размерирование для рабочих нагрузок резервного копирования
2. **Сеть**: Оптимизация конфигурации сети
3. **Хранилище**: Настройка подходящих политик хранения
4. **Безопасность**: Внедрение лучших практик безопасности

### Оптимизация производительности

1. **Параллельные операции**: Оптимизация настроек параллельных заданий
2. **Дедупликация**: Настройка глобальной дедупликации
3. **Сжатие**: Баланс сжатия и производительности
4. **Сеть**: Оптимизация использования пропускной способности сети

### Управление данными

1. **Политики хранения**: Проектирование эффективных политик хранения
2. **Хранение**: Внедрение подходящих политик хранения
3. **Архивирование**: Использование интеллектуальных политик архивирования
4. **Мониторинг**: Непрерывный мониторинг и оптимизация

## Устранение неполадок

### Общие проблемы

#### Проблемы производительности

- **Медленное резервное копирование**: Проверьте производительность сети и хранилища
- **Высокая загрузка CPU**: Мониторинг использования ресурсов MediaAgent
- **Проблемы с памятью**: Оптимизация распределения памяти
- **Дисковое пространство**: Мониторинг доступного дискового пространства

#### Проблемы подключения

- **Сетевое подключение**: Проверка сетевого подключения
- **Правила брандмауэра**: Проверка конфигурации брандмауэра
- **DNS разрешение**: Проверка DNS разрешения
- **Статус сервисов**: Проверка статуса сервисов Commvault

#### Проблемы конфигурации

- **Конфигурация библиотеки**: Проверка настроек библиотеки
- **Политика хранения**: Проверка конфигурации политики хранения
- **Учетные данные**: Проверка учетных данных доступа
- **Разрешения**: Проверка разрешений файловой системы

## Начало работы

### Предварительные требования

1. **Среда Commvault**: Commvault Complete Data Protection v11.20+
2. **Кластер RustFS**: Правильно настроенный кластер RustFS
3. **Сетевое подключение**: Сетевое подключение между Commvault и RustFS
4. **MediaAgent**: Commvault MediaAgent с достаточными ресурсами

### Руководство по быстрому старту

1. **Установка MediaAgent**: Установка и настройка Commvault MediaAgent
2. **Настройка библиотеки**: Добавление RustFS как дисковой или облачной библиотеки
3. **Создание политики хранения**: Создание политики хранения с использованием библиотеки RustFS
4. **Настройка субклиента**: Создание субклиента для защиты данных
5. **Запуск резервного копирования**: Выполнение начального задания резервного копирования
6. **Тест восстановления**: Тестирование процедур восстановления резервных копий

### Следующие шаги

- **Оптимизация производительности**: Настройка параметров резервного копирования для оптимальной производительности
- **Внедрение безопасности**: Настройка шифрования и контроля доступа
- **Настройка мониторинга**: Внедрение комплексного мониторинга
- **Планирование аварийного восстановления**: Разработка процедур аварийного восстановления
- **Обучение персонала**: Обучение персонала процедурам резервного копирования и восстановления

